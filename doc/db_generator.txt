-- TableSpace Section
-- __________________

-- Table Section
-- _____________

create table UTENTE (
	username varchar(30) not null,
	email varchar(50) not null,
	pwd varchar(8) not null,
	salt char(32) not null,
	primary key (username));
    
create table RISTORANTE (
	nomeRistorante varchar(50) not null,
	indirizzo varchar(50) not null,
	username varchar(30) not null,
	primary key (nomeRistorante),
	foreign key (username) references UTENTE(username));
    
create table PRANZO (
	nomeRistorante varchar(50) not null,
	id_pranzo numeric(10) not null,
	numPartecipanti numeric(2) not null,
	data date not null,
	orario varchar(15) not null,
	primary key (id_pranzo, nomeRistorante),
	foreign key (nomeRistorante) references RISTORANTE(nomeRistorante));

create table INVITO (
	id_pranzo numeric(10) not null,
	nomeRistorante varchar(50) not null,
	username varchar(30) not null,
	stato boolean not null,
	primary key (id_pranzo, nomeRistorante, username),
	foreign key (id_pranzo) references PRANZO(id_pranzo),
	foreign key (nomeRistorante) references PRANZO(nomeRistorante),
	foreign key (username) references UTENTE(username));